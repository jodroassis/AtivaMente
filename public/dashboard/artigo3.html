<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AtivaMente | Artigo</title>
    <script src="../js/sessao.js"></script>
    <script src="../js/alerta.js"></script>

    <link rel="stylesheet" href="../css/style.css" />
    <link rel="stylesheet" href="../css/dashboards.css">
</head>
<body onload="validarSessao(), atualizarFeed()">
    <div class="header">
        <div class="container">
            <div class="logo">
                <h1>AtivaMente</h1>
            </div>
            <nav class="menu">
                <ul class="navbar">
                    <li><a href="home.html" class="inicial">Inicial</a></li>
                    <li><a href="pesquisa.html">Pesquisa</a></li>
                    <li><a href="dashboard.html" class="dashboard">Dashboard</a></li>
                    <li><a href="sobre.html" class="sobre">Sobre o Projeto</a></li>
                    <li>|</li>
                    <div class="usuario-logado">
                        <div class="hello">
                          <h3>Olá, <span id="b_usuario">usuário</span>!</h3>
                          <span id="mostrar_cpf"></span>
                        </div>
                        <div class="btn-logout" onclick="limparSessao()">
                          <h3>Sair</h3>
                        </div>
                      </div>
                </ul>
            </nav>
        </div>
    </div>

    

    <div class="content">
        <div class="artigo">
            <h1>Esportes para Crianças: Benefícios e Dicas</h1>
            <p>A prática de esportes na infância traz uma série de benefícios que vão além da saúde física. Participar de atividades esportivas ajuda as crianças a desenvolver habilidades sociais, cognitivas e emocionais que contribuem para o seu crescimento integral. Neste artigo, vamos explorar os principais benefícios dos esportes para crianças e dar dicas de como escolher a atividade certa.</p>

            
            <h2>Benefícios dos Esportes para Crianças</h2>
            <h3>Desenvolvimento Físico e Motor</h3>
            <p>A prática de esportes ajuda a fortalecer músculos e ossos, melhora a coordenação motora e aumenta a flexibilidade. Além disso, atividades físicas regulares contribuem para manter um peso saudável, prevenindo a obesidade infantil.</p>

            <h3>Habilidades Sociais</h3>
            <p>Participar de esportes coletivos, como futebol, basquete ou vôlei, ensina as crianças a trabalhar em equipe, respeitar as regras e desenvolver empatia. Essa convivência social é importante para que aprendam a se comunicar melhor e a lidar com diferentes tipos de pessoas.</p>
            
            <h3>Disciplina e Responsabilidade</h3>
            <p>Esportes exigem compromisso, esforço e perseverança. Por meio da prática, as crianças aprendem a seguir horários, cumprir tarefas e a valorizar o trabalho duro para alcançar objetivos.</p>

            <h3>Saúde Mental e Bem-Estar</h3>
            <p>O esporte é uma ótima forma de liberar energia e reduzir o estresse. Crianças ativas têm menores chances de desenvolverem sintomas de ansiedade e depressão, além de apresentarem uma autoestima mais elevada.</p>

            <h2>Dicas para Escolher o Esporte Certo</h2>
            <h3>Considere as Preferências da Criança</h3>
            <p>É importante que a escolha do esporte leve em conta o que a criança gosta de fazer. Se ela se sente atraída por atividades ao ar livre, esportes como atletismo ou ciclismo podem ser ideais. Se prefere brincadeiras mais interativas, esportes em equipe são uma boa opção.</p>
            
            <h3>Variedade e Experimentação</h3>
            <p>Permita que a criança experimente diferentes tipos de esportes. Isso não só ajuda a identificar qual atividade ela mais aprecia, mas também contribui para um desenvolvimento físico mais completo.</p>

            <h3>Segurança em Primeiro Lugar</h3>
            <p>Verifique se o esporte escolhido é adequado para a idade e o desenvolvimento da criança. O uso de equipamentos de proteção, como capacetes e joelheiras, é essencial para evitar lesões.</p>

            <h3>Apoio e Incentivo</h3>
            <p>Esteja presente e incentive a participação da criança. O suporte dos pais é fundamental para que ela se sinta motivada e segura.</p>

            <h2>Considerações Finais</h2>
            <p>Incluir esportes na rotina das crianças é um passo importante para promover o desenvolvimento físico, social e emocional. Com os benefícios que vão da disciplina à melhora da saúde mental, os esportes ajudam a construir bases sólidas para uma vida saudável e equilibrada. Ao considerar as preferências e garantir a segurança da criança, você estará contribuindo para que ela cresça feliz e confiante.</p>
            <hr>

            <div class="autor">
                <div class="autor-foto"></div>
                <div class="autor-info">
                    <h2>por <span>João Assis</span></h2>
                    <p>Publicado em 20 de novembro de 2024</p>
                </div>
            </div>
        </div>
    </div>


    <hr>

    <div class="avisos">
        <div id="alerta"></div>
        <div class="container">
            <h1>Publicar um Comentário</h1>
            <div class="div-form">
                <form id="form_postagem" method="post" onsubmit="return publicar()">
                    <label>
                        Título:
                        <br>
                        <input name="titulo" id="titulo" maxlength="100" type="text" class="input-text">
                    </label>
                    <br><br>
                    <label>
                        Descrição (máximo de 250 caracteres):
                        <br>
                        <textarea name="descricao" id="textarea_descricao" maxlength="250" rows="5" class="textarea"></textarea>
                    </label>
                    <br><br>
                    <button class="btn-enviar">Enviar</button>
                </form>
            </div>
            <h1>Mural de Comentários</h1>
            <div class="div-results">
                <div id="feed_container" class="feed-container"></div>
            </div>
        </div>
    </div>
    
    
</div>
</div>

    <div class="footer">
        <p>Feito por João Assis &hearts; SPTech &copy; 2024 | <span class="version">v1.0.0</span></p>
        <div class="icones_redes">
            <div class="linkdin">
                <a href="https://www.linkedin.com/in/jodro-assis/" target="_blank"><img src="../assets/imgs/linkedin.png" width="20px"></a>
            </div>
            <div class="github">
                <a href="https://github.com/jodroassis" target="_blank"><img src="../assets/imgs/github.png" width="20px"></a>
            </div>
        </div>
    </div>
</body>
</html>

<script>
    // Função para incrementar as curtidas
    b_usuario.innerHTML = sessionStorage.NOME_USUARIO;
    mostrar_cpf.innerHTML = sessionStorage.CPF_USUARIO;

    function limparFormulario() {
        document.getElementById("form_postagem").reset();
    }

    function publicar() {
        var idUsuario = sessionStorage.ID_USUARIO;
        var cpf = sessionStorage.CPF_USUARIO;

        var corpo = {
            titulo: form_postagem.titulo.value,
            descricao: form_postagem.descricao.value,
            dataHora: new Date().toISOString() // pega a data e o horário no formato BD (AAAA-MM-DD HH-MM-SS)
        }

        fetch(`/artigo/publicar/${idUsuario}`, {
            method: "post",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify(corpo)
        }).then(function (resposta) {

            console.log("resposta: ", resposta);

            if (resposta.ok) {
                window.alert("Post realizado com sucesso pelo usuario de ID: " + idUsuario + "!");
                window.location = "/dashboard/artigo3.html";
                limparFormulario();
                finalizarAguardar();
            } else if (resposta.status == 404) {
                window.alert("Deu 404!");
            } else {
                throw ("Houve um erro ao tentar realizar a postagem! Código da resposta: " + resposta.status);
            }
        }).catch(function (resposta) {
            console.log(`#ERRO: ${resposta}`);
            finalizarAguardar();
        });

        return false;

    }

    function editar(idArtigo) {
        sessionStorage.ID_POSTAGEM_EDITANDO = idArtigo;
        console.log("cliquei em editar - " + idArtigo);
        window.alert("Você será redirecionado à página de edição do comentário de id número: " + idArtigo);
        window.location = "/dashboard/edicao-aviso.html"

    }

    function deletar(idArtigo) {
        console.log("Criar função de apagar post escolhido - ID" + idArtigo);
        fetch(`/artigo/deletar/${idArtigo}`, {
            method: "DELETE",
            headers: {
                "Content-Type": "application/json"
            }
        }).then(function (resposta) {

            if (resposta.ok) {
                window.alert("Post deletado com sucesso pelo usuario de email: " + sessionStorage.getItem("EMAIL_USUARIO") + "!");
                window.location = "/dashboard/artigo3.html"
            } else if (resposta.status == 404) {
                window.alert("Deu 404!");
            } else {
                throw ("Houve um erro ao tentar realizar a postagem! Código da resposta: " + resposta.status);
            }
        }).catch(function (resposta) {
            console.log(`#ERRO: ${resposta}`);
        });
    }

    function atualizarFeed() {
        fetch("/artigo/listar").then(function (resposta) {
            if (resposta.ok) {
                if (resposta.status == 204) {
                    var feed = document.getElementById("feed_container");
                    var mensagem = document.createElement("span");
                    mensagem.innerHTML = "Nenhum resultado encontrado."
                    feed.appendChild(mensagem);
                    throw "Nenhum resultado encontrado!!";
                }

                resposta.json().then(function (resposta) {
                    console.log("Dados recebidos: ", JSON.stringify(resposta));

                    var feed = document.getElementById("feed_container");
                    feed.innerHTML = "";
                    for (let i = 0; i < resposta.length; i++) {
                        var publicacao = resposta[i];

                        // criando e manipulando elementos do HTML via JavaScript
                        var divPublicacao = document.createElement("div");
                        var spanID = document.createElement("span");
                        var spanTitulo = document.createElement("span");
                        var spanNome = document.createElement("span");
                        var divDescricao = document.createElement("div");
                        var spanDataHora = document.createElement("span");
                        var divButtons = document.createElement("div");
                        var btnEditar = document.createElement("button");
                        var btnDeletar = document.createElement("button");

                        const data = new Date(publicacao.dtHora);
                        const dataFormatada = data.toLocaleString("pt-BR", { timeZone: "America/Sao_Paulo" });

                        // spanID.innerHTML = "ID: <b>" + publicacao.idArtigo + "</b>";
                        spanTitulo.innerHTML = "Título: <b>" + publicacao.titulo + "</b>";
                        spanNome.innerHTML = "Autor: <b>" + publicacao.nome + "</b>";
                        divDescricao.innerHTML = "Descrição: <b>" + publicacao.descricao + "</b>";
                        spanDataHora.innerHTML = "Data e Hora: <b>" + dataFormatada + "</b>";
                        btnEditar.innerHTML = "Editar";
                        btnDeletar.innerHTML = "Deletar";

                        divPublicacao.className = "publicacao";
                        spanTitulo.id = "inputNumero" + publicacao.idArtigo;
                        spanNome.className = "publicacao-nome";
                        spanTitulo.className = "publicacao-titulo";
                        divDescricao.className = "publicacao-descricao";

                        divButtons.className = "div-buttons"

                        btnEditar.className = "publicacao-btn-editar"
                        btnEditar.id = "btnEditar" + publicacao.idArtigo;
                        btnEditar.setAttribute("onclick", `editar(${publicacao.idArtigo})`);

                        btnDeletar.className = "publicacao-btn-editar"
                        btnDeletar.id = "btnDeletar" + publicacao.idArtigo;
                        btnDeletar.setAttribute("onclick", `deletar(${publicacao.idArtigo})`);

                        divPublicacao.appendChild(spanID);
                        divPublicacao.appendChild(spanNome);
                        divPublicacao.appendChild(spanTitulo);
                        divPublicacao.appendChild(spanDataHora);
                        divPublicacao.appendChild(divDescricao);
                        divPublicacao.appendChild(divButtons);
                        divButtons.appendChild(btnEditar);
                        divButtons.appendChild(btnDeletar);
                        feed.appendChild(divPublicacao);
                    }

                    finalizarAguardar();
                });
            } else {
                throw ('Houve um erro na API!');
            }
        }).catch(function (resposta) {
            console.error(resposta);
            finalizarAguardar();
        });
    }

</script>
